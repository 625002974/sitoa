Implement the array switcher shaders
	
(trac #1290)

author: sjannuz